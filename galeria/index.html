<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Gallery</title>
<link rel="stylesheet" href="index.css">
</head>

<body>

<div id="cursor-corazon"></div>      
<div class="gallery-overlay">

    <div class="gallery-box">

        <!-- HEADER -->
        <div class="gallery-header">
            <span class="gallery-title">GALLERY</span>
     <!-- BOTÓN DE CIERRE -->
    <span class="close-btn" onclick="closeParentWindow()">&times;</span>
        </div>

        <!-- SLIDER -->
        <div class="slider">

            <span class="arrow left" onclick="changeSlide(-1)">‹</span>

            <div class="slide-frame">
                <img id="slide-img" src="https://xatimg.com/image/vo8vZADfd8Na.png">
            </div>

            <span class="arrow right" onclick="changeSlide(1)">›</span>

        </div>

    </div>

</div>

<script>
const images = [
    "https://xatimg.com/image/jkqHkqHEGzFb.png",
    "https://xatimg.com/image/pOoVjRhJt0sl.png",
    "https://xatimg.com/image/T6OiPQxLOaDJ.png",
];

let current = 0;
const img = document.getElementById("slide-img");

function changeSlide(dir){
    current += dir;
    if(current < 0) current = images.length - 1;
    if(current >= images.length) current = 0;

    img.classList.remove("show");
    setTimeout(() => {
        img.src = images[current];
        img.classList.add("show");
    }, 150);
}

img.classList.add("show");

/* cerrar */
function closeParentWindow(){
    try{
        if(window.parent && window.parent.closeMarried){
            window.parent.closeMarried();
            return;
        }
    }catch(e){}
    window.parent.postMessage({ action:"closeSection" },"*");
}

/* ESC */
document.addEventListener("keydown", e=>{
    if(e.key==="Escape") closeParentWindow();
});

document.addEventListener("mousemove", function(e){

    // cursor
    const c = document.getElementById("cursor-corazon");
    c.style.left = e.clientX + "px";
    c.style.top  = e.clientY + "px";

    // efecto corazón (IGUAL AL INDEX)
    const heart = document.createElement("div");
    heart.className = "corazon";
    heart.innerHTML = "❤";
    heart.style.left = e.clientX + "px";
    heart.style.top  = e.clientY + "px";

    document.body.appendChild(heart);

    setTimeout(() => {
        heart.remove();
    }, 3500);
});

</script>

</body>
</html>




