<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Married Section</title>
<link rel="stylesheet" href="index.css">
</head>
<body>

<div id="cursor-corazon"></div>  
<div class="married-box">

    <!-- BOTÃ“N DE CIERRE -->
    <span class="close-btn" onclick="closeParentWindow()">&times;</span>

    <div class="avatar"
         style="background-image:url('https://xatimg.com/image/CRcetboPhT1f.jpg');">
    </div>

    <div class="name">Fabricio</div>
    <div class="userid">1537898900</div>

    <p class="message">
        Mi amor te quiero.
    </p>

    <a href="https://xat.me/xfabriciio" target="_blank" class="xat-btn">XAT.ME</a>

</div>

<script>
function closeParentWindow(){

    /* ðŸŸ¢ 1. Intentar mÃ©todo directo (solo funciona same-origin) */
    try {
        if (window.parent && typeof window.parent.closeMarried === "function") {
            window.parent.closeMarried();
            return; // funciona â†’ listo
        }
    } catch(e){
        // aquÃ­ cae si hay cross-origin
    }

    /* ðŸ”µ 2. Si falla â†’ usar postMessage (FUNCIONA SIEMPRE) */
    window.parent.postMessage({ action: "closeSection" }, "*");
}

document.addEventListener("mousemove", e => {
    const c = document.getElementById("cursor-corazon");
    c.style.left = e.clientX + "px";
    c.style.top = e.clientY + "px";
});

document.addEventListener("mousemove", function(e){

    // cursor
    const c = document.getElementById("cursor-corazon");
    c.style.left = e.clientX + "px";
    c.style.top  = e.clientY + "px";

    // efecto corazÃ³n (IGUAL AL INDEX)
    const heart = document.createElement("div");
    heart.className = "corazon";
    heart.innerHTML = "â¤";
    heart.style.left = e.clientX + "px";
    heart.style.top  = e.clientY + "px";

    document.body.appendChild(heart);

    setTimeout(() => {
        heart.remove();
    }, 3500);
});
</script>

</body>
</html>

